OpenAI Codex v0.87.0 (research preview)
--------
workdir: /Users/ivankhokhlov/code/mlx-ui/.
model: gpt-5.2-codex
provider: openai
approval: never
sandbox: danger-full-access
reasoning effort: xhigh
reasoning summaries: auto
session id: 019be04c-eab4-7670-898a-abfc87e1a55a
--------
user
# WORKER AGENT (3-phase harness)

You are the WORKER in a Planner→Worker→Judge pipeline.
Your job: execute `.agent/plan.md` as written, with minimal scope creep.

Non-interactive run (`codex exec`): do not ask questions. If unclear, make the smallest reasonable assumption and log it.

## Stop conditions
- If `.agent/STOP` exists: append “STOP seen” to `.agent/progress.md` and exit.
- If `.agent/DONE` exists: append “DONE seen” to `.agent/progress.md` and exit.

## Inputs you MUST read
- `.agent/PROJECT.md` (authoritative; includes TEST_CMD/LINT_CMD)
- `AGENTS.md` (repo rules)
- `docs/spec.md`
- `docs/dev.md` (if exists)
- `.agent/plan.md`
- `.agent/judge_feedback.md` (if present)
- `.agent/queue.md`
- `.agent/progress.md`
- `.agent/state.md`

## Core rules
- Implement ONLY the single task in `.agent/plan.md`.
- Do NOT mark tasks done in `.agent/queue.md` (Judge owns that).
- Prefer small, coherent changes. No big refactors unless the task explicitly requires it.
- All network-dependent logic must be best-effort with timeouts and exception handling.
- Bind server to localhost only.
- Queue must be strictly sequential: one job at a time; no parallel transcription runs.
- Never print secrets. If you need to log config, mask tokens.

## Logging
Ensure `.agent/logs/` exists.
Write/overwrite `.agent/worker_report.md` with:
- task id/title
- what changed (bullets)
- files changed (list)
- commands run + result (pass/fail)
- if failure: include a short excerpt of the error and what you think is next

Also append a WORKER entry to `.agent/progress.md` with:
- timestamp
- CODEX_ITERATION
- task id
- test + lint status summary

## Verification (must do)
Run TEST_CMD (from PROJECT.md). Capture output into a file.

Tip: to preserve exit codes with tee:
- use: `bash -lc "set -o pipefail; <TEST_CMD> 2>&1 | tee .agent/logs/test_${CODEX_ITERATION}.log"`

If LINT_CMD is set and command exists, run similarly and capture output:
- `.agent/logs/lint_${CODEX_ITERATION}.log`

If tests fail and you cannot fix quickly:
- write/update `.agent/BLOCKED.md` with exact errors + next steps
- exit (do not thrash)

## Output
Print a short summary:
- what you implemented
- test status
- pointers to worker_report + log files

mcp startup: no servers
exec
/bin/zsh -lc ls in /Users/ivankhokhlov/code/mlx-ui succeeded in 71ms:
AGENTS.md
Makefile
README.md
docs
mlx_ui
poetry.lock
pyproject.toml
scripts
tests

thinking
**Listing .agent files**
exec
/bin/zsh -lc 'ls .agent' in /Users/ivankhokhlov/code/mlx-ui succeeded in 101ms:
BLOCKED.md
PROJECT.md
judge.md
judge_feedback.md
last_judge.txt
last_planner.txt
last_worker.txt
logs
plan.md
planner.md
progress.md
queue.md
state.md
worker.md
worker_report.md
exec
/bin/zsh -lc 'ls .agent/STOP .agent/DONE' in /Users/ivankhokhlov/code/mlx-ui exited 1 in 90ms:
ls: .agent/DONE: No such file or directory
ls: .agent/STOP: No such file or directory

thinking
**Planning file reads**

I'll read key project files including .agent/PROJECT.md, AGENTS.md, docs/spec.md, docs/dev.md, plan.md, judge_feedback.md, queue.md, progress.md, and state.md to gather necessary context.
exec
/bin/zsh -lc 'cat .agent/PROJECT.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 95ms:
# PROJECT (single source of truth for the harness)

PROJECT_NAME: "whisper-webui-mlx"
REPO_KIND: "new repo"

## Brief (1–2 paragraphs)
Build a **local macOS app for Apple Silicon (M1+)** that exposes a **Web UI on localhost** to manage **offline transcription** of audio/video files using the engine from `whisper-turbo-mlx` via its CLI `wtm` (MLX). https://github.com/JosefAlbers/whisper-turbo-mlx

Turn the current console workflow (e.g. `wtm ... --any_lang=True`) into a tool that is easy to deploy on another M1+ Mac with **one command**, supports **batch uploads**, a **strictly sequential** processing queue (no parallelism), **job history + downloads**, optional **Telegram delivery of TXT results**, and (in the final phase) **live recording + chunked transcription**.

## Primary stack
Python 3.11+
- Backend/Web: FastAPI + Uvicorn
- Templates/UI: Jinja2 + minimal vanilla JS (no external CDNs; must work offline)
- Storage: SQLite (jobs metadata) + local filesystem (uploads/results/logs)
- Worker: a single sequential worker consuming a persistent queue
- Transcription: subprocess call to `wtm` with explicit language selection

## Commands (choose defaults if unknown)
TEST_CMD: "make test"

thinking
**Prioritizing AGENTS.md review**
exec
/bin/zsh -lc 'cat AGENTS.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 91ms:
# AGENTS.md

This repo is developed using an autonomous loop (Planner → Worker → Judge) driven by `codex exec`.
Because each run starts with limited context, **durable state MUST be stored in `.agent/`**.

## Source of truth
- `.agent/PROJECT.md` — high-level constraints and commands
- `docs/spec.md` — product requirements
- `.agent/queue.md` — backlog (Judge marks tasks done)

## How to run
- Tests: `make test`
- Lint: `make lint`
- Format: `make fmt`
- Run server: `make run`

If Makefile does not exist yet, create it during bootstrap.

## Safety / security rules
- Never touch anything outside the repo root.

thinking
**Identifying missing documentation**
exec
/bin/zsh -lc 'cat docs/spec.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 93ms:
# Spec — whisper-webui-mlx

## Goal
Create a **local-only** tool for **macOS Apple Silicon (M1+)** that provides a **Web UI on localhost** to manage **local transcription** of audio/video files using the engine from `whisper-turbo-mlx` via its CLI `wtm` (MLX).

The tool must be easy to deploy to another M1+ Mac (one command), and after the initial setup + model download it must work **fully offline**.

## MVP: Batch file transcription via Web UI
### UX
- User opens Web UI (localhost).
- User uploads **one or multiple files** (audio or video).
- User selects the **language manually** (no auto-detect).
- Files are placed into a **queue** and processed **strictly sequentially** (no parallel jobs).
- UI has:
  - Queue view: current job + pending jobs
  - History view: completed jobs + access to results

### Processing rules
- One worker processes one job at a time (sequential).
- Keep the ML model “warm” behavior in mind: avoid parallelism and avoid reinitialization churn.

thinking
**Checking for docs/dev.md**
exec
/bin/zsh -lc 'ls docs' in /Users/ivankhokhlov/code/mlx-ui succeeded in 95ms:
dev.md
spec.md
tree.md

thinking
**Reviewing development documentation**
exec
/bin/zsh -lc 'cat docs/dev.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 83ms:
# Developer guide

## Requirements (target)
- macOS Apple Silicon (M1+)
- Python 3.11+
- Homebrew (for system deps like ffmpeg)

## Quick start (eventual)
```bash
./scripts/setup_and_run.sh
```

## Manual dev loop
```bash
poetry install --with dev

make test
make run
```


thinking
**Planning by reading plan.md**
exec
/bin/zsh -lc 'cat .agent/plan.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 88ms:
# Plan

Task: WUI-010 — Upload endpoint + local storage
Acceptance: user can upload multiple files; files saved under `data/uploads/` and jobs are created

Assumptions:
- In-memory job records are acceptable until SQLite persistence is added in WUI-011.
- A simple HTML multipart form on the Queue tab is sufficient for initial upload UX.

Implementation steps:
- Add an uploads base directory (default `data/uploads/`) and ensure it exists on startup or on first upload.
- Implement a POST upload endpoint that accepts multiple files and writes them to the uploads directory with unique per-job identifiers.
- Create minimal job records (id, filename, status, created_at, upload_path) stored in memory and returned to the template.
- Update the Queue panel template to show the upload form and render newly queued jobs.
- Add tests that upload multiple files via TestClient and assert files are written under `data/uploads/` and jobs are registered.
- Record test/lint results in `.agent/worker_report.md`.

Files likely to touch:
- `mlx_ui/app.py`
- `mlx_ui/templates/index.html`

thinking
**Checking judge feedback presence**

I located the agent/judge_feedback.md file and will review its contents to determine if judge feedback is present.
exec
/bin/zsh -lc 'cat .agent/judge_feedback.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 104ms:
PASS

Notes:
- `make test` passes.
- `make lint` passes.
- Acceptance criteria met for WUI-002.

thinking
**Listing needed documentation files**
exec
/bin/zsh -lc 'cat .agent/queue.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 89ms:
# Queue

## Now
- [ ] WUI-010 — Upload endpoint + local storage (acceptance: user can upload multiple files; files saved under `data/uploads/` and jobs are created)

## Next
- [ ] WUI-011 — Persistent job store (SQLite) (acceptance: jobs survive server restart; history page lists prior jobs)
- [ ] WUI-012 — Sequential worker + fake transcriber (acceptance: single worker processes jobs strictly one-at-a-time; tests do not require ML model)

## Later
- [ ] WUI-020 — Integrate `wtm` CLI transcription (acceptance: for a job, system runs `wtm` with chosen language and produces at least `.txt` in `data/results/<job_id>/`)
- [ ] WUI-021 — Results browsing + download (acceptance: history page shows per-job links to view/download TXT and other generated formats)
- [ ] WUI-030 — One-command setup & run on M1+ macOS (acceptance: `./scripts/setup_and_run.sh` installs deps, downloads models, starts server, and opens browser)
- [ ] WUI-040 — Telegram delivery (acceptance: when env vars are set, send TXT + message; failures do not break pipeline; secrets masked)
- [ ] WUI-050 — Update check at startup (acceptance: if online, checks for updates with timeout; if offline, no errors and app works)
- [ ] WUI-090 — Live mode skeleton (acceptance: UI has “Live” page stub + technical plan in docs; no implementation yet)

## Done
- [x] WUI-002 — Minimal WebUI shell (acceptance: localhost page renders with tabs: Queue + History, using server-side templates)
- [x] WUI-001A — Fix pytest availability for `make test` (acceptance: `make test` succeeds in a clean env by ensuring pytest is installed or Makefile uses Poetry/venv)

thinking
**Planning documentation files**
exec
/bin/zsh -lc 'cat .agent/progress.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 80ms:
# Progress Log (append-only)

- 2026-01-21T09:49:08 — INIT — Harness files created. Next: run the 3-phase loop.
- 2026-01-21T10:33:08Z — PLANNER — CODEX_ITERATION=1 — selected WUI-001 (Bootstrap repo skeleton). Queue unchanged.
- 2026-01-21T10:37:23Z — WORKER — CODEX_ITERATION=1 — WUI-001 — tests: failed (pytest missing); lint: not run
- 2026-01-21T10:39:53Z — JUDGE — CODEX_ITERATION=1 — NEEDS_WORK — make test failed (pytest missing in venv); tests: failed (make test)
- 2026-01-21T10:42:24Z — PLANNER — CODEX_ITERATION=2 — selected WUI-001A (Fix pytest availability for `make test`). Queue updated (format fix for WUI-001A).
- 2026-01-21T10:49:11Z — WORKER — CODEX_ITERATION=2 — WUI-001A — tests: passed (make test); lint: passed (make lint)
- 2026-01-21T10:52:47Z — JUDGE — CODEX_ITERATION=2 — PASS — acceptance met; tests: passed (make test); lint: passed (make lint)
- 2026-01-21T10:56:28Z — PLANNER — CODEX_ITERATION=3 — selected WUI-001 (Bootstrap repo skeleton). Queue unchanged.
- 2026-01-21T10:58:25Z — WORKER — CODEX_ITERATION=3 — WUI-001 — tests: passed (make test); lint: passed (make lint)
- 2026-01-21T11:01:51Z — JUDGE — CODEX_ITERATION=3 — PASS — acceptance met; tests: passed (make test); lint: passed (make lint)
- 2026-01-21T11:05:17Z — PLANNER — CODEX_ITERATION=4 — selected WUI-002 (Minimal WebUI shell). Queue unchanged.
- 2026-01-21T11:11:48Z — WORKER — CODEX_ITERATION=4 — WUI-002 — tests: passed (make test); lint: passed (make lint)
- 2026-01-21T11:16:13Z — JUDGE — CODEX_ITERATION=4 — PASS — acceptance met; tests: passed (make test); lint: passed (make lint)
- 2026-01-21T11:23:27Z — PLANNER — CODEX_ITERATION=5 — selected WUI-010 (Upload endpoint + local storage). Queue updated (moved WUI-010 to Now).

thinking
**Identifying missing documentation**

Noticed the absence of a state.md file, indicating a need to create or locate documentation related to state management.
exec
/bin/zsh -lc 'cat .agent/state.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 90ms:
last_task_id: WUI-002
last_verdict: PASS
consecutive_failures: 0

thinking
**Verifying existence of logs directory**

Confirmed that `.agent/logs` directory already exists in the repo, so implementation will likely focus on ensuring it is created if missing and handling related setup. Next step is to check app structure and relevant files for integration points.
exec
/bin/zsh -lc 'ls mlx_ui' in /Users/ivankhokhlov/code/mlx-ui succeeded in 99ms:
__init__.py
__pycache__
app.py
templates

thinking
**Locating app entry point**
exec
/bin/zsh -lc 'cat mlx_ui/app.py' in /Users/ivankhokhlov/code/mlx-ui succeeded in 99ms:
from pathlib import Path

from fastapi import FastAPI, Request
from fastapi.responses import HTMLResponse
from fastapi.templating import Jinja2Templates

app = FastAPI(title="Whisper WebUI (MLX)")
templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))


@app.get("/", response_class=HTMLResponse)
def read_root(request: Request):
    return templates.TemplateResponse(request, "index.html")

thinking
**Planning upload endpoint and job handling**
exec
/bin/zsh -lc 'cat mlx_ui/templates/index.html' in /Users/ivankhokhlov/code/mlx-ui succeeded in 103ms:
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Whisper WebUI (MLX)</title>
    <style>
      :root {
        --ink: #1d1b16;
        --ink-muted: #5d5d5d;
        --panel: #fff7ee;
        --accent: #d46a3e;
        --accent-strong: #8b3f1f;
        --shadow: 0 24px 60px rgba(29, 27, 22, 0.12);
      }

      * {
        box-sizing: border-box;
      }


thinking
**Planning upload form and jobs display**

I'll add an upload form and a jobs list display, requiring server context to supply the jobs. Next, I'll review tests for guidance.
exec
/bin/zsh -lc 'cat tests/test_app.py' in /Users/ivankhokhlov/code/mlx-ui succeeded in 110ms:
from fastapi.testclient import TestClient

from mlx_ui.app import app

client = TestClient(app)


def test_root_ok() -> None:
    response = client.get("/")

    assert response.status_code == 200
    assert response.headers["content-type"].startswith("text/html")
    assert "Queue" in response.text
    assert "History" in response.text


thinking
**Planning test setup for upload**

I'm preparing to extend upload tests using FastAPI's test client with file support, ensuring the `data/uploads/` directory is created at runtime within the repo but not tracked. I'll keep paths relative to the repo, consider environment variables or constants from the app for base paths, and note that updating `docs/tree.md` may not be needed if runtime directories aren't tracked.
thinking
**Designing upload storage and testing strategy**

I'm committing to storing each upload job in a unique `data/uploads/<job_id>/` directory to avoid filename conflicts, supporting multiple files per job. Tests will override the base upload path to a temporary directory to avoid altering the repo tree, while the app defaults to `data/uploads/`; I'll verify file creation and job registration accordingly and avoid committing runtime directories, considering `.gitignore` and docs/tree.md only for tracked repo changes.
exec
/bin/zsh -lc 'ls -a' in /Users/ivankhokhlov/code/mlx-ui succeeded in 110ms:
.
..
.DS_Store
.agent
.git
.gitignore
.pytest_cache
.python-version
.ruff_cache
.venv
AGENTS.md
Makefile
README.md
docs
mlx_ui
poetry.lock
pyproject.toml
scripts
tests

thinking
**Checking .gitignore for data/**

directory**
exec
/bin/zsh -lc 'cat .gitignore' in /Users/ivankhokhlov/code/mlx-ui succeeded in 98ms:
.venv
.env
.env.*
__pycache__/
*.py[cod]
*.pyd
.pytest_cache/
.mypy_cache/
.ruff_cache/
.cache/
.coverage
htmlcov/
.tox/
.nox/
.hypothesis/
build/
dist/
*.egg-info/
.vscode/
.idea/


thinking
**Planning upload directory handling**

I'm considering keeping the default upload path as data/uploads per spec but enabling tests to override it via an environment variable to use a temporary directory, ensuring repo cleanliness while still verifying default behavior with controlled cleanup.
thinking
**Designing upload directory initialization**

I'm planning to define the uploads directory relative to the repo root using a default path with environment override, ensure its existence on upload, and clean up any test-created directories after tests to avoid leftover files while enabling tests to verify default behavior safely.
exec
/bin/zsh -lc 'cat docs/tree.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 87ms:
# Project tree (curated)

This file is a human-maintained map of the repo. Update when structure changes.

## Current (bootstrap)
- `.agent/` — durable loop state + prompts
- `docs/` — spec + dev notes + this tree map
- `mlx_ui/` — FastAPI app package (see `app.py`)
- `mlx_ui/templates/` — Jinja2 templates
- `scripts/` — loop scripts + setup/run scripts (to be implemented)
- `tests/` — pytest suite
- `Makefile` — dev commands
- `pyproject.toml` — dependencies and tooling
- `README.md` — repo overview


thinking
**Considering docs/tree.md update**

The user is deciding whether to update docs/tree.md due to adding a runtime-created data/ directory; even if not tracked, it may be worth documenting since it's a new conceptual folder used by the repo.
thinking
**Planning upload endpoint and storage design**

The user plans to add a data/ directory with a `.gitkeep` for repo structure, update the docs/tree.md accordingly, and implement a FastAPI upload endpoint supporting multiple files saved under per-job subfolders in data/uploads. They also plan an in-memory job store with timestamped job records, careful filename sanitization, minimal concurrency handling, and tests resetting the job store. Adjusting uploads directory via app state is considered to keep writes inside the repo root for compliance.
exec
/bin/zsh -lc 'cat mlx_ui/__init__.py' in /Users/ivankhokhlov/code/mlx-ui succeeded in 95ms:


thinking
**Planning to check Makefile for server details**
exec
/bin/zsh -lc 'cat Makefile' in /Users/ivankhokhlov/code/mlx-ui succeeded in 116ms:
PYTHON ?= python
POETRY ?= poetry
POETRY_RUN ?= $(POETRY) run

.PHONY: test lint fmt run

test:
	$(POETRY_RUN) pytest

lint:
	$(POETRY_RUN) ruff check .

fmt:
	$(POETRY_RUN) ruff format .

run:
	$(POETRY_RUN) uvicorn mlx_ui.app:app --host 127.0.0.1 --port 8000

thinking
**Checking pyproject dependencies**
exec
/bin/zsh -lc 'rg -n "fastapi|jinja2|uvicorn" -n pyproject.toml' in /Users/ivankhokhlov/code/mlx-ui succeeded in 95ms:
10:fastapi = "^0.115.6"
11:jinja2 = "^3.1.4"
12:uvicorn = "^0.32.1"


thinking
**Planning app modifications and response flow**

I'm preparing to add imports and a Job dataclass in app.py while deciding to use a 303 redirect after uploads to avoid form resubmission and show the updated job queue via the GET handler. Tests will account for the redirect behavior since TestClient follows redirects by default.
thinking
**Designing upload handling with job tracking and template updates**

I'm defining a JobRecord dataclass to track uploads with metadata stored in app.state.jobs and implementing upload POST handler to save files under unique job directories, returning the updated job list rendered in the template without redirect. The UI will show an upload form and queued jobs with minimal inline styles, and tests will verify job creation and file saving while carefully cleaning only test-specific files to avoid deleting existing user data.
exec
/bin/zsh -lc 'ls data' in /Users/ivankhokhlov/code/mlx-ui exited 1 in 85ms:
ls: data: No such file or directory


thinking
**Planning test data cleanup**

I'm deciding to create test data directories at runtime and remove only those created during tests to keep the repo clean, while preserving any preexisting user data by checking for existing directories before cleanup.
thinking
**Planning detailed app and test implementation**

I've mapped out comprehensive modifications to app.py including uploads handling with per-job directories, job tracking in app state, sanitized filenames, and a new upload POST endpoint with HTML templating. I also planned robust test setup and cleanup that isolates created files and directories to avoid affecting preexisting data, plus updates to templates and docs for the new data/uploads structure. Next I'll apply patches to implement this systematically.
file update
M /Users/ivankhokhlov/code/mlx-ui/./mlx_ui/app.py
@@ -1,4 +1,8 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
@@ -8,6 +12,79 @@
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
apply_patch(auto_approved=true) exited 0 in 14ms:
Success. Updated the following files:
M mlx_ui/app.py
file update:
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )

file update:
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )



thinking
**Investigating TemplateResponse signature**

I'm verifying that the current code's use of TemplateResponse with `(request, "index.html")` is valid despite typical FastAPI usage expecting `(name, context)`, as tests pass; this likely stems from older or Starlette-compatible overloads, so I'll confirm the method signature to avoid introducing a bug.
thinking
**Deciding to standardize TemplateResponse calls**

I found that passing `request` as a separate argument is nonstandard and risky since the proper usage expects `"request"` inside the context dictionary; I'll update all TemplateResponse calls to the recommended signature with the template name first and context including the request to avoid potential bugs.
file update
M /Users/ivankhokhlov/code/mlx-ui/./mlx_ui/app.py
@@ -59,5 +59,4 @@
     return templates.TemplateResponse(
-        request,
         "index.html",
-        {"jobs": get_job_store()},
+        {"request": request, "jobs": get_job_store()},
     )
@@ -86,5 +85,4 @@
     return templates.TemplateResponse(
-        request,
         "index.html",
-        {"jobs": jobs},
+        {"request": request, "jobs": jobs},
     )
apply_patch(auto_approved=true) exited 0 in 32ms:
Success. Updated the following files:
M mlx_ui/app.py
file update:
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )

file update:
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )



thinking
**Planning HTML and CSS patch**

I'm outlining updates to add new CSS classes after existing ones and replace the queue panel placeholder with a form and job list using ASCII-only edits.
thinking
**Adding detailed CSS and HTML updates**

I'm preparing CSS additions for upload form styling and responsive tweaks plus replacing the queue panel's placeholder with a file upload form and dynamic job list using ASCII-only Jinja syntax.
file update
M /Users/ivankhokhlov/code/mlx-ui/./mlx_ui/templates/index.html
@@ -137,2 +137,82 @@
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
@@ -168,2 +248,12 @@
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
@@ -223,6 +313,36 @@
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
apply_patch(auto_approved=true) exited 0 in 35ms:
Success. Updated the following files:
M mlx_ui/templates/index.html
file update:
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section

file update:
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section



thinking
**Preparing test environment**

I'm planning to update tests by adding necessary imports like Path and possibly others, then implement a helper to clean job artifacts while ensuring the HTML stays ASCII-only.
thinking
**Refining upload test with path checks**

I'm finalizing a test that verifies multiple file uploads create corresponding jobs and files, ensuring all paths are absolute and relative as expected, cleaning up created files afterward while carefully managing the job list state.
file update
M /Users/ivankhokhlov/code/mlx-ui/./tests/test_app.py
@@ -1 +1,3 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
@@ -14 +16,53 @@
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass
apply_patch(auto_approved=true) exited 0 in 33ms:
Success. Updated the following files:
M tests/test_app.py
file update:
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass

file update:
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Planning documentation update**

I'm deciding to minimally update docs/tree.md by adding a bullet for the `data/` directory to reflect its runtime use for uploads, results, and logs, acknowledging this as a structure info change.
file update
M /Users/ivankhokhlov/code/mlx-ui/./docs/tree.md
@@ -6,2 +6,3 @@
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
apply_patch(auto_approved=true) exited 0 in 38ms:
Success. Updated the following files:
M docs/tree.md
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass

file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass



thinking
**Verifying internal paths and template context**

Confirmed all paths use the repo root as base, uploads directory is created on first upload, and template context includes request and jobs as needed; test updates on upload form or job listing are optional but not required.
thinking
**Preparing test and lint runs with logging**

Planning to run tests and lint commands with output captured to logs named by the CODEX_ITERATION variable, verifying that this environment variable is set before proceeding.
exec
/bin/zsh -lc 'echo $CODEX_ITERATION' in /Users/ivankhokhlov/code/mlx-ui succeeded in 96ms:
5
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Ensuring log directory exists**

I'm adding a step to create the `.agent/logs` directory if missing before running tests to avoid potential errors, prioritizing safety even if it might be redundant.
exec
/bin/zsh -lc 'mkdir -p .agent/logs' in /Users/ivankhokhlov/code/mlx-ui succeeded in 106ms:

file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Running tests with logging**
exec
/bin/zsh -lc 'bash -lc "set -o pipefail; make test 2>&1 | tee .agent/logs/test_5.log"' in /Users/ivankhokhlov/code/mlx-ui exited 2 in 1.25s:
poetry run pytest
============================= test session starts ==============================
platform darwin -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0
rootdir: /Users/ivankhokhlov/code/mlx-ui
configfile: pyproject.toml
plugins: anyio-4.12.1
collected 0 items / 1 error

==================================== ERRORS ====================================
______________________ ERROR collecting tests/test_app.py ______________________
tests/test_app.py:5: in <module>
    from mlx_ui.app import app
mlx_ui/app.py:65: in <module>
    @app.post("/upload", response_class=HTMLResponse)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/fastapi/routing.py:994: in decorator
    self.add_api_route(
.venv/lib/python3.12/site-packages/fastapi/routing.py:933: in add_api_route
    route = route_class(
.venv/lib/python3.12/site-packages/fastapi/routing.py:554: in __init__
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass



thinking
**Adding python-multipart dependency**

Tests fail due to missing python-multipart, required for FastAPI file uploads, so I'll add it to pyproject.toml. However, updating the lock file or installing might require network, which seems disallowed, so I'll need to add the dependency without network access and ensure it works with the existing environment.
thinking
**Deciding to add dependency via poetry**

I'll add python-multipart as a main dependency using `poetry add` to update pyproject.toml, poetry.lock, and install it in the environment so tests pass, accepting network use since it appears allowed for setup and testing despite runtime offline constraints.
exec
/bin/zsh -lc 'poetry add python-multipart' in /Users/ivankhokhlov/code/mlx-ui succeeded in 1.25s:
Using version ^0.0.21 for python-multipart

Updating dependencies
Resolving dependencies...

Package operations: 1 install, 0 updates, 0 removals

  • Installing python-multipart (0.0.21)

Writing lock file
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Rerunning tests after dependency update**
exec
/bin/zsh -lc 'bash -lc "set -o pipefail; make test 2>&1 | tee .agent/logs/test_5.log"' in /Users/ivankhokhlov/code/mlx-ui succeeded in 1.11s:
poetry run pytest
============================= test session starts ==============================
platform darwin -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0
rootdir: /Users/ivankhokhlov/code/mlx-ui
configfile: pyproject.toml
plugins: anyio-4.12.1
collected 2 items

tests/test_app.py ..                                                     [100%]

=============================== warnings summary ===============================
tests/test_app.py::test_root_ok
tests/test_app.py::test_upload_multiple_files_creates_jobs_and_files
  /Users/ivankhokhlov/code/mlx-ui/.venv/lib/python3.12/site-packages/starlette/templating.py:161: DeprecationWarning: The `name` is not the first parameter anymore. The first parameter should be the `Request` instance.
  Replace `TemplateResponse(name, {"request": request})` by `TemplateResponse(request, name)`.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 2 passed, 2 warnings in 0.19s =========================
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass



thinking
**Resolving TemplateResponse warnings**

The starlette version expects the first parameter to be the Request object, so updating `TemplateResponse` calls to `TemplateResponse(request, name, context)` will prevent warnings and align with the new signature.
thinking
**Confirming TemplateResponse signature**

The new style expects `TemplateResponse(request, name, context)` without including `request` in the context dict; the context is optional and `request` is passed separately as the first argument to avoid warnings.
exec
/bin/zsh -lc 'rg -n "class Jinja2Templates|def TemplateResponse" .venv/lib/python3.12/site-packages/starlette/templating.py' in /Users/ivankhokhlov/code/mlx-ui succeeded in 99ms:
59:class Jinja2Templates:
134:    def TemplateResponse(
146:    def TemplateResponse(
158:    def TemplateResponse(self, *args: typing.Any, **kwargs: typing.Any) -> _TemplateResponse:
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Checking for overloaded definitions**
exec
/bin/zsh -lc "sed -n '130,190p' .venv/lib/python3.12/site-packages/starlette/templating.py" in /Users/ivankhokhlov/code/mlx-ui succeeded in 97ms:
    def get_template(self, name: str) -> jinja2.Template:
        return self.env.get_template(name)

    @typing.overload
    def TemplateResponse(
        self,
        request: Request,
        name: str,
        context: dict[str, typing.Any] | None = None,
        status_code: int = 200,
        headers: typing.Mapping[str, str] | None = None,
        media_type: str | None = None,
        background: BackgroundTask | None = None,
    ) -> _TemplateResponse: ...

    @typing.overload
    def TemplateResponse(
        self,
        name: str,
        context: dict[str, typing.Any] | None = None,
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..6452ca3b5e9f353cc9f7351dc70c994aecd96708
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,88 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
+
+
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
 
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
 
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        "index.html",
+        {"request": request, "jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Updating function signatures for new request style**

I'm adjusting `read_root` and `upload_files` to pass the request object first and remove "request" from the context dict to match the new `TemplateResponse` signature and eliminate warnings.
file update
M /Users/ivankhokhlov/code/mlx-ui/./mlx_ui/app.py
@@ -59,4 +59,5 @@
     return templates.TemplateResponse(
+        request,
         "index.html",
-        {"request": request, "jobs": get_job_store()},
+        {"jobs": get_job_store()},
     )
@@ -85,4 +86,5 @@
     return templates.TemplateResponse(
+        request,
         "index.html",
-        {"request": request, "jobs": jobs},
+        {"jobs": jobs},
     )
apply_patch(auto_approved=true) exited 0 in 60ms:
Success. Updated the following files:
M mlx_ui/app.py
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass

file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Rerunning tests after style update**
exec
/bin/zsh -lc 'bash -lc "set -o pipefail; make test 2>&1 | tee .agent/logs/test_5.log"' in /Users/ivankhokhlov/code/mlx-ui succeeded in 1.03s:
poetry run pytest
============================= test session starts ==============================
platform darwin -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0
rootdir: /Users/ivankhokhlov/code/mlx-ui
configfile: pyproject.toml
plugins: anyio-4.12.1
collected 2 items

tests/test_app.py ..                                                     [100%]

============================== 2 passed in 0.16s ===============================
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Running lint with logging**
exec
/bin/zsh -lc 'bash -lc "set -o pipefail; make lint 2>&1 | tee .agent/logs/lint_5.log"' in /Users/ivankhokhlov/code/mlx-ui succeeded in 673ms:
poetry run ruff check .
All checks passed!
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Planning agent report update**

I'm preparing to overwrite `.agent/worker_report.md` with detailed task info, changes, file lists, and command results, plus append a progress entry summarizing iteration, test and lint status, and log filenames.
exec
/bin/zsh -lc 'cat .agent/worker_report.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 91ms:
# Worker Report

Task: WUI-002 — Minimal WebUI shell

What changed:
- Rendered the root route with a Jinja2 template instead of JSON.
- Added a minimal offline-friendly HTML shell with Queue and History tabs.
- Updated tests to assert HTML content and documented the new templates directory.
- Added Jinja2 to dependencies and refreshed the lock file.

Files changed:
- mlx_ui/app.py
- mlx_ui/templates/index.html
- tests/test_app.py
- docs/tree.md
- pyproject.toml
- poetry.lock
- .agent/worker_report.md
- .agent/progress.md
- .agent/logs/test_4.log
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass



thinking
**Finalizing report and progress update**

Planning to overwrite and create a comprehensive report listing all changed files—including the new report file itself—and describing updates like upload endpoint, job store, template changes, tests, dependency, and docs. Also preparing to append a timestamped progress entry using UTC ISO 8601 format to the progress file with iteration, task ID, and test/lint summaries.
thinking
**Preparing progress entry**

Planning to append a WORKER entry to the progress file with timestamp, iteration, task ID, and test/lint status, using the UTC ISO 8601 timestamp format for consistency.
exec
/bin/zsh -lc 'date -u +"%Y-%m-%dT%H:%M:%SZ"' in /Users/ivankhokhlov/code/mlx-ui succeeded in 89ms:
2026-01-21T11:33:16Z
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Appending new progress entry**

I'm adding a new line for 2026 with environment future and relevant test and lint results to progress.md using the established format.
exec
/bin/zsh -lc "printf '%s
' '- 2026-01-21T11:33:16Z — WORKER — CODEX_ITERATION=5 — WUI-010 — tests: passed (make test); lint: passed (make lint)' >> .agent/progress.md" in /Users/ivankhokhlov/code/mlx-ui succeeded in 100ms:

file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Composing final worker report**

I'm drafting the worker report to summarize task WUI-010, including what changed, files updated, and successful commands like adding python-multipart, running tests, and linting.
exec
/bin/zsh -lc "cat <<'EOF' > .agent/worker_report.md
# Worker Report

Task: WUI-010 — Upload endpoint + local storage

What changed:
- Added uploads directory handling, an in-memory job store, and a multi-file upload endpoint.
- Rendered the Queue tab with an upload form and queued job list.
- Added upload tests to verify job creation and file persistence with cleanup.
- Added python-multipart and documented the data directory in the tree map.

Files changed:
- mlx_ui/app.py
- mlx_ui/templates/index.html
- tests/test_app.py
- docs/tree.md
- pyproject.toml
- poetry.lock
- .agent/worker_report.md
- .agent/progress.md
- .agent/logs/test_5.log
- .agent/logs/lint_5.log

Commands run + result:
- "'`poetry add python-multipart` (pass)
- `make test` (pass)
- `make lint` (pass)
EOF' in /Users/ivankhokhlov/code/mlx-ui succeeded in 83ms:

file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Verifying test cleanup of data directory**

Planning to confirm tests properly remove created data directories by checking git status to ensure no unexpected files or directories remain after cleanup.
exec
/bin/zsh -lc 'git status -sb' in /Users/ivankhokhlov/code/mlx-ui succeeded in 107ms:
## master
 M .agent/last_judge.txt
 M .agent/last_planner.txt
 M .agent/logs/judge_4.err
 M .agent/logs/judge_4.out
 M .agent/plan.md
 M .agent/progress.md
 M .agent/queue.md
 M .agent/worker_report.md
 M docs/tree.md
 M mlx_ui/app.py
 M mlx_ui/templates/index.html
 M poetry.lock
 M pyproject.toml
 M tests/test_app.py
?? .agent/logs/lint_5.log
?? .agent/logs/planner_5.err
?? .agent/logs/planner_5.out
?? .agent/logs/test_5.log
?? .agent/logs/worker_5.err
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass



thinking
**Confirming agent logs and file states**
thinking
**Verifying progress log update**

I've appended to `.agent/progress.md` and will quickly check its contents to confirm accuracy and completeness.
exec
/bin/zsh -lc 'tail -n 3 .agent/progress.md' in /Users/ivankhokhlov/code/mlx-ui succeeded in 89ms:
- 2026-01-21T11:16:13Z — JUDGE — CODEX_ITERATION=4 — PASS — acceptance met; tests: passed (make test); lint: passed (make lint)
- 2026-01-21T11:23:27Z — PLANNER — CODEX_ITERATION=5 — selected WUI-010 (Upload endpoint + local storage). Queue updated (moved WUI-010 to Now).
- 2026-01-21T11:33:16Z — WORKER — CODEX_ITERATION=5 — WUI-010 — tests: passed (make test); lint: passed (make lint)
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass


thinking
**Checking dependency in pyproject.toml**
exec
/bin/zsh -lc 'rg -n "python-multipart" pyproject.toml' in /Users/ivankhokhlov/code/mlx-ui succeeded in 97ms:
13:python-multipart = "^0.0.21"
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass



thinking
**Reviewing app state and file handling**

The job list on app state remains a shared list cleared in tests, posing a possible concurrency concern but acceptable for now. Upload handling sanitizes filenames and uses unique job directories, while the base path resolution assumes the repo layout, which should be fine for current use.
thinking
**Preparing final implementation summary**

I'm consolidating a concise final summary covering implemented multi-file upload handling with in-memory job tracking, UI integration, added python-multipart dependency, updated tests, documentation, and passing lint/test results, plus relevant log and report file pointers. Next, I'll produce a clear, structured final response with explanation, details, test status, and suggested next steps.
codex
Implemented multi-file uploads with in-memory job tracking so uploads are saved under `data/uploads/<job_id>/` and appear in the Queue UI.

- `mlx_ui/app.py` adds the uploads directory handling, job record model, and `/upload` endpoint; jobs are passed to the template for rendering.
- `mlx_ui/templates/index.html` now includes an upload form and a queued jobs list.
- `tests/test_app.py` covers multi-file uploads and validates file persistence and job registration with cleanup.
- `pyproject.toml` and `poetry.lock` add `python-multipart` for FastAPI file uploads.
- `docs/tree.md` documents the `data/` runtime storage folder.

Tests: `make test` pass; `make lint` pass.  
Worker report: `.agent/worker_report.md`  
Logs: `.agent/logs/test_5.log`, `.agent/logs/lint_5.log`

Next step:
1) Run `make run` and try uploading a couple of files in the Queue tab to confirm the flow end-to-end.
file update:
diff --git a/docs/tree.md b/docs/tree.md
index 86f30b94f4b2f36a0af3407dbe530d07e926f2ef..b27a1b2a13b3fb55753c1a7a8078d54ad9bd522b
--- a/docs/tree.md
+++ b/docs/tree.md
@@ -4,6 +4,7 @@
 
 ## Current (bootstrap)
 - `.agent/` — durable loop state + prompts
+- `data/` — runtime uploads/results/logs (created on demand)
 - `docs/` — spec + dev notes + this tree map
 - `mlx_ui/` — FastAPI app package (see `app.py`)
 - `mlx_ui/templates/` — Jinja2 templates
diff --git a/mlx_ui/app.py b/mlx_ui/app.py
index 4e6475bd83867a543a2d94cc5b8f5e743173feb9..7e8e0380aa181cdc4704f5a08306c8c1013566e3
--- a/mlx_ui/app.py
+++ b/mlx_ui/app.py
@@ -1,13 +1,90 @@
+from dataclasses import dataclass
+from datetime import datetime, timezone
 from pathlib import Path
+import shutil
+from uuid import uuid4
 
-from fastapi import FastAPI, Request
+from fastapi import FastAPI, File, Request, UploadFile
 from fastapi.responses import HTMLResponse
 from fastapi.templating import Jinja2Templates
 
 app = FastAPI(title="Whisper WebUI (MLX)")
 templates = Jinja2Templates(directory=str(Path(__file__).resolve().parent / "templates"))
+BASE_DIR = Path(__file__).resolve().parent.parent
+DEFAULT_UPLOADS_DIR = BASE_DIR / "data" / "uploads"
+app.state.uploads_dir = DEFAULT_UPLOADS_DIR
+app.state.jobs = []
 
 
+@dataclass
+class JobRecord:
+    id: str
+    filename: str
+    status: str
+    created_at: str
+    upload_path: str
+
+
+def get_job_store() -> list[JobRecord]:
+    return app.state.jobs
+
+
+def get_uploads_dir() -> Path:
+    return Path(app.state.uploads_dir)
+
+
+def ensure_uploads_dir() -> Path:
+    uploads_dir = get_uploads_dir()
+    uploads_dir.mkdir(parents=True, exist_ok=True)
+    return uploads_dir
+
+
+def sanitize_filename(filename: str) -> str:
+    safe_name = Path(filename).name
+    return safe_name or "upload.bin"
+
+
+def new_job_record(job_id: str, filename: str, upload_path: Path) -> JobRecord:
+    return JobRecord(
+        id=job_id,
+        filename=filename,
+        status="queued",
+        created_at=datetime.now(timezone.utc).isoformat(timespec="seconds"),
+        upload_path=str(upload_path),
+    )
+
+
 @app.get("/", response_class=HTMLResponse)
 def read_root(request: Request):
-    return templates.TemplateResponse(request, "index.html")
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": get_job_store()},
+    )
+
+
+@app.post("/upload", response_class=HTMLResponse)
+async def upload_files(request: Request, files: list[UploadFile] = File(...)):
+    jobs = get_job_store()
+    uploads_dir = ensure_uploads_dir()
+
+    for upload in files:
+        if not upload.filename:
+            continue
+        safe_name = sanitize_filename(upload.filename)
+        job_id = uuid4().hex
+        job_dir = uploads_dir / job_id
+        job_dir.mkdir(parents=True, exist_ok=True)
+        destination = job_dir / safe_name
+        try:
+            with destination.open("wb") as outfile:
+                shutil.copyfileobj(upload.file, outfile)
+        finally:
+            await upload.close()
+        jobs.append(new_job_record(job_id, safe_name, destination))
+
+    return templates.TemplateResponse(
+        request,
+        "index.html",
+        {"jobs": jobs},
+    )
diff --git a/mlx_ui/templates/index.html b/mlx_ui/templates/index.html
index 630f894f2625e531f88da2a106a2b7cba64d6bd8..d02c9f89f6d46241bbc89b57bd616f21fa57ddf9
--- a/mlx_ui/templates/index.html
+++ b/mlx_ui/templates/index.html
@@ -135,6 +135,86 @@
         display: block;
       }
 
+      .upload-card {
+        margin-top: 18px;
+        padding: 16px;
+        border-radius: 14px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+        display: grid;
+        gap: 12px;
+      }
+
+      .upload-label {
+        font-weight: 600;
+      }
+
+      .upload-input {
+        display: block;
+        width: 100%;
+      }
+
+      .upload-actions {
+        display: flex;
+        flex-wrap: wrap;
+        gap: 12px;
+        align-items: center;
+        justify-content: space-between;
+      }
+
+      .cta {
+        appearance: none;
+        border: none;
+        border-radius: 10px;
+        padding: 10px 16px;
+        background: var(--accent);
+        color: #fff;
+        font-weight: 600;
+        cursor: pointer;
+      }
+
+      .cta:hover {
+        background: var(--accent-strong);
+      }
+
+      .hint {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-list {
+        margin-top: 16px;
+        display: grid;
+        gap: 10px;
+      }
+
+      .job-row {
+        display: flex;
+        justify-content: space-between;
+        gap: 16px;
+        padding: 12px 14px;
+        border-radius: 12px;
+        background: #fff;
+        border: 1px solid #f4e6d8;
+      }
+
+      .job-name {
+        font-weight: 600;
+      }
+
+      .job-meta {
+        font-size: 0.85rem;
+        color: var(--ink-muted);
+      }
+
+      .job-status {
+        text-transform: uppercase;
+        letter-spacing: 0.1em;
+        font-size: 0.72rem;
+        color: var(--accent-strong);
+        align-self: center;
+      }
+
       .placeholder {
         margin-top: 16px;
         padding-top: 16px;
@@ -166,6 +246,16 @@
           align-items: stretch;
         }
 
+        .upload-actions {
+          flex-direction: column;
+          align-items: stretch;
+        }
+
+        .job-row {
+          flex-direction: column;
+          align-items: flex-start;
+        }
+
         .status-card {
           width: 100%;
         }
@@ -221,10 +311,40 @@
           >
             <h2>Queue</h2>
             <p>Upload files to start a sequential transcription run.</p>
-            <div class="placeholder">
-              <div class="placeholder-row">No jobs queued yet.</div>
-              <div class="placeholder-row">Waiting for uploads.</div>
-            </div>
+            <form class="upload-card" action="/upload" method="post" enctype="multipart/form-data">
+              <label class="upload-label" for="file-input">Select audio or video files</label>
+              <input
+                id="file-input"
+                class="upload-input"
+                type="file"
+                name="files"
+                multiple
+                required
+                accept="audio/*,video/*"
+              >
+              <div class="upload-actions">
+                <button class="cta" type="submit">Queue uploads</button>
+                <span class="hint">Files stay local in data/uploads.</span>
+              </div>
+            </form>
+            {% if jobs %}
+              <div class="job-list" aria-live="polite">
+                {% for job in jobs %}
+                  <div class="job-row">
+                    <div>
+                      <div class="job-name">{{ job.filename }}</div>
+                      <div class="job-meta">Queued {{ job.created_at }}</div>
+                    </div>
+                    <div class="job-status">{{ job.status }}</div>
+                  </div>
+                {% endfor %}
+              </div>
+            {% else %}
+              <div class="placeholder">
+                <div class="placeholder-row">No jobs queued yet.</div>
+                <div class="placeholder-row">Waiting for uploads.</div>
+              </div>
+            {% endif %}
           </section>
 
           <section
diff --git a/tests/test_app.py b/tests/test_app.py
index 41c27ab44d9f3277f087fb8e30ab7caed3b594ec..6fbe878e8961e726a6a494c8c10b3baea8df1909
--- a/tests/test_app.py
+++ b/tests/test_app.py
@@ -1,3 +1,5 @@
+from pathlib import Path
+
 from fastapi.testclient import TestClient
 
 from mlx_ui.app import app
@@ -12,3 +14,55 @@
     assert response.headers["content-type"].startswith("text/html")
     assert "Queue" in response.text
     assert "History" in response.text
+
+
+def _cleanup_job_artifacts(jobs: list) -> None:
+    for job in jobs:
+        job_path = Path(job.upload_path)
+        if job_path.is_file():
+            job_path.unlink()
+        job_dir = job_path.parent
+        if job_dir.is_dir():
+            try:
+                job_dir.rmdir()
+            except OSError:
+                pass
+
+
+def test_upload_multiple_files_creates_jobs_and_files() -> None:
+    uploads_dir = Path(app.state.uploads_dir)
+    data_dir = uploads_dir.parent
+    had_uploads_dir = uploads_dir.exists()
+    had_data_dir = data_dir.exists()
+    app.state.jobs.clear()
+    files = [
+        ("files", ("alpha.txt", b"one", "text/plain")),
+        ("files", ("beta.txt", b"two", "text/plain")),
+    ]
+
+    try:
+        response = client.post("/upload", files=files)
+
+        assert response.status_code == 200
+        jobs = list(app.state.jobs)
+        assert len(jobs) == 2
+        for job in jobs:
+            job_path = Path(job.upload_path)
+            assert job_path.is_file()
+            assert job_path.name == job.filename
+            assert job_path.parent.name == job.id
+            assert job_path.is_relative_to(uploads_dir)
+            assert job.status == "queued"
+    finally:
+        _cleanup_job_artifacts(app.state.jobs)
+        app.state.jobs.clear()
+        if not had_uploads_dir:
+            try:
+                uploads_dir.rmdir()
+            except OSError:
+                pass
+        if not had_data_dir:
+            try:
+                data_dir.rmdir()
+            except OSError:
+                pass

tokens used
56,941
